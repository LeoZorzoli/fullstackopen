{"version":3,"sources":["components/Person.js","components/PersonForm.js","components/Filter.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Person","person","handleDelete","className","key","id","name","number","onClick","PersonForm","props","onSubmit","submit","value","onChange","onNameChange","onNumberChange","type","Filter","Notification","message","status","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","baseUrl","axios","get","then","response","data","newObject","post","delete","put","App","useState","persons","setPersons","newName","setNewName","newNumber","setNewNumber","filterPerson","setFilterPerson","setMessage","setStatus","useEffect","personsService","initialPersons","personsFilter","filter","toLowerCase","search","event","target","preventDefault","personObject","already","find","confirm","window","updated","map","p","catch","error","console","log","returnedPerson","concat","setTimeout","removePerson","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.0194e050.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Person = ({person, handleDelete}) => {\r\n\r\n    return (\r\n        <li className='person' key={person.id}>\r\n            {person.name} {person.number} <button onClick={() => handleDelete(person)}>delete</button>\r\n        </li>\r\n    )\r\n}\r\n\r\nexport default Person","import React from 'react'\r\n\r\nconst PersonForm = (props) => {\r\n    return (\r\n        <form onSubmit={props.submit}>\r\n            <div>name: <input value={props.name} onChange={props.onNameChange} /></div>\r\n            <div>number: <input value={props.number} onChange={props.onNumberChange} /></div>\r\n            <div><button type=\"submit\">add</button></div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Filter = (props) => {\r\n    const text = 'filter shown with'\r\n    return (\r\n        <div>\r\n            {text} <input value={props.value} onChange={props.onChange} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst Notification = ({ message, status }) => {\r\n\r\n    const successStyle = {\r\n        color: 'green',\r\n        background: 'lightgrey',\r\n        fontSize: 20,\r\n        borderStyle: 'solid',\r\n        borderRadius: 5,\r\n        padding: 10,\r\n        marginBottom: 10,\r\n      }\r\n    \r\n    const errorStyle = {\r\n        color: 'red',\r\n        background: 'lightgrey',\r\n        fontSize: 20,\r\n        borderStyle: 'solid',\r\n        borderRadius: 5,\r\n        padding: 10,\r\n        marginBottom: 10,\r\n    }\r\n\r\n\r\n    if (status === 1){\r\n        return (\r\n            <div style={successStyle}>\r\n                {message}\r\n            </div>\r\n        )\r\n    }else if (status === 2){\r\n        return (\r\n            <div style={errorStyle}>\r\n                {message}\r\n            </div>\r\n        )\r\n    }else {\r\n        return null\r\n    }\r\n}\r\n\r\nexport default Notification","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst remove = (id) => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default { getAll, create, remove, update}","import React, { useState, useEffect } from 'react'\r\nimport Person from './components/Person'\r\nimport PersonForm from './components/PersonForm'\r\nimport Filter from './components/Filter'\r\nimport Notification from './components/Notification'\r\nimport personsService from './services/persons'\r\n\r\n\r\nconst App = () => {\r\n  const [ persons, setPersons ] = useState([])\r\n  const [ newName, setNewName ] = useState('')\r\n  const [ newNumber, setNewNumber ] = useState('')\r\n  const [ filterPerson, setFilterPerson ] = useState('')\r\n  const [ message, setMessage ] = useState('')\r\n  const [ status, setStatus ] = useState(-1)\r\n\r\n  useEffect(() => {\r\n    personsService\r\n      .getAll()\r\n      .then(initialPersons => {\r\n        setPersons(initialPersons)\r\n      })\r\n  }, [])\r\n\r\n  const addName = (event) => {\r\n      event.preventDefault()\r\n      const personObject = {\r\n          name: newName,\r\n          id: newName,\r\n          number: newNumber,\r\n      }\r\n\r\n      const already = persons.find(person => person.name === newName)\r\n\r\n      if (already){\r\n        const confirm = window.confirm(`${newName} is already added to phonebook, do you want to replace the number?`)\r\n        if(confirm){\r\n          personsService\r\n          .update(already.id, personObject)\r\n          .then(updated => {setPersons(persons.map(p => p.id === updated.id ? updated : p))})\r\n          .catch(error => {\r\n            console.log(error)\r\n            setMessage(`Information of ${confirm.name} has already been removed from server`)\r\n            setStatus(2)\r\n          })\r\n        }\r\n      } else {\r\n        personsService\r\n          .create(personObject)\r\n          .then(returnedPerson => {\r\n            setPersons(persons.concat(returnedPerson))\r\n          })\r\n          setMessage(\r\n            `Added '${personObject.name}'`\r\n          )\r\n          setStatus(1)\r\n      }\r\n      setNewName('')\r\n      setNewNumber('')\r\n      setTimeout(() => {\r\n        setMessage(null)\r\n        setStatus(-1)\r\n      }, 3000)\r\n  }\r\n\r\n\r\n\r\n  const handleNameChange = (event) => {\r\n      setNewName(event.target.value)\r\n  }\r\n\r\n  const handleNumberChange = (event) => {\r\n      setNewNumber(event.target.value)\r\n  }\r\n\r\n  const handleFilterChange = (event) => {\r\n    setFilterPerson(event.target.value)\r\n  }\r\n\r\n  const removePerson = (person) => {\r\n    const confirm = window.confirm(`Delete ${person.name}?`)\r\n    if(confirm){\r\n      personsService\r\n        .remove(person.id)\r\n        .then(() => {\r\n          setPersons(persons.filter(p => p.id !== person.id))\r\n        })\r\n        setMessage(\r\n          `Deleted ${person.name}`\r\n        )\r\n        setStatus(2)\r\n        setTimeout(() => {\r\n          setMessage(null)\r\n          setStatus(-1)\r\n        }, 3000)\r\n      setNewName('')\r\n      setNewNumber('')\r\n    }\r\n  }\r\n\r\n  const personsFilter = filterPerson\r\n    ? persons.filter(person => person.name.toLowerCase().search(filterPerson.toLowerCase()) !== -1)\r\n    : persons;\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n\r\n      <Notification message={message} status={status} />\r\n      <Filter value={filterPerson} onChange={handleFilterChange} />\r\n      \r\n      <h2>Add a new:</h2>\r\n\r\n      <PersonForm \r\n        submit={addName} \r\n        name={newName} \r\n        number={newNumber} \r\n        onNameChange={handleNameChange} \r\n        onNumberChange={handleNumberChange} \r\n      />\r\n\r\n      <h2>Numbers</h2>\r\n\r\n      <ul>\r\n        {personsFilter.map(person => <Person person={person} key={person.id} name={person.name} number={person.number} handleDelete={(person) => removePerson(person)} />)}\r\n      </ul>\r\n        \r\n    </div>\r\n  )\r\n}   \r\n\r\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(<App />, document.getElementById('root'))\n\n"],"sourceRoot":""}